<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Find the Apartment for Me Using Scrapy &middot; Haining's
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-08">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Haining's
        </a>
      </h1>
      <p class="lead">Programming Blog</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
        
      
      <a class="sidebar-nav-item" href="">GitHub project</a>
      <span class="sidebar-nav-item">Currently v1.0.0</span>
    </nav>

    <p>&copy; 2017. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Find the Apartment for Me Using Scrapy</h1>
  <span class="post-date">18 Aug 2017</span>
  <p>Apartment hunting is a painful experience. And if you are like me who struggled
to move with my newborn baby to the San Francisco Bay Area, you are more picky
locations, amenities and prices, which implies you have to spend even more time to browse
through websites to make sure everything is good.</p>

<p>To make things worse, I may not be able to drive and have to take advantage of
the company’s shuttle since my husband is going to do some long distance commute
with our car. I need to make sure the apartment is super close to some shuttle
stop (say ten minutes by foot). Checking each potential apartment to all nearby
shuttle stations is another tedious job to do. In order to not repeating the whole
process, I will probably need to have a spreadsheet writing down addresses and
whether there is any station that is close to the apartment. To make matters worse,
apartments can quickly become unavailable and great choices can suddenly come
up as well, which means I should not only browse, but literally watches the changes.</p>

<p><img src="/images/apartments_map.png" alt="apartment map" style="width: 500" /></p>

<p>After spending a few hours looking on the Internet. I became really distraught and
bored. It suddenly came to me that before we can actually save money to buy a place, I may constantly need to do this this search once in a while. Why not try to build some simple command line tool to help me scrap down info from the website and generate a list of apartments for me? I am new to web crawlers and I have only one week before I have to find a good place to live, but I believe I can do it because 1) there are already some great
web crawling framework out there like Scrapy 2) For this year, I probably need to rent
an apartment instead of some room in a house to accommodate the occasional visit of my parents or nannies for my baby. The first reason greatly reduces my work since I don’t need to reinvent the wheel. The second part limits the ranges for my search, I probably don’t need to make complex search across multiple websites for now and instead I can focus on more structured websites like apartments.com or zillow for example. For my specific usage, apartments.com is better since it is neater and may contain only apartments. With the data source selected now I started to look for resources online to start my work.  &lt;/p&gt;</p>

<h3 id="step-1-build-the-web-crawler">Step 1: Build the Web Crawler</h3>

<p>I used python and <a href="&quot;https://scrapy.org/&quot;">Scrapy</a> to create the Web Crawler since they are relatively straight forward to use and can achieve what I need quickly.&lt;/p&gt;</p>

<h4 id="install-scrapy">Install Scrapy</h4>
<p>Scrapy is an application framework for crawling web sites and extracting structured data. Even
though Scrapy was original designed for web scraping, it can also be used to extract data using APIs or as a general purpose web crawler. To install Scrapy, just run</p>
<div class="language-bash highlighter-rouge"><pre class="highlight"><code>pip install scrapy
</code></pre>
</div>

<h2>#</h2>

  <div id="disqus_thread"></div>
  <script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/

var disqus_config = function () {
  this.page.url = "//2017/08/18/find-the-apartment-for-me-using-scrapy/";  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = "/2017/08/18/find-the-apartment-for-me-using-scrapy"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(
  function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://haining.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  }
)();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>

<div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2013/12/28/introducing-hyde/">
            Introducing Hyde
            <small>28 Dec 2013</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2012/02/07/example-content/">
            Example content
            <small>07 Feb 2012</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2012/02/06/whats-jekyll/">
            What's Jekyll?
            <small>06 Feb 2012</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

    </div>

  </body>
</html>
